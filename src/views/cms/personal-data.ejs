<%- include("../partials/session-alert.partial.ejs") %>
<%- include("../partials/general-error-alert.partial.ejs") %>
<%- include("../partials/decline-changes-modal.partial.ejs", { returnUrl: "/cms/personal-data" }) %>

<h2 class="mb-3">Personal data</h2>
<form method="post">
    <div class="row">
        <div class="col-12 mb-4">
            <label for="descriptionTop" class="form-label">First (top) description (support markdown syntax):</label>
            <textarea class="form-control <%= errors?.descriptionTop && "is-invalid" %>" id="descriptionTop"
                name="dscTop" minlength="10" maxlength="500" rows="7"><%= form.descriptionTop %></textarea>
            <div class="invalid-feedback"><%= errors?.descriptionTop?.message %></div>
        </div>
        <div class="col-12 mb-4">
            <label for="mavenCentralLink" class="form-label">Maven central link:</label>
            <input class="form-control <%= errors?.mavenCentralLink && "is-invalid" %>" id="mavenCentralLink"
                name="mvnLink" value="<%= form.mavenCentralLink %>">
            <div class="invalid-feedback"><%= errors?.mavenCentralLink?.message %></div>
        </div>
        <div class="col-12 mb-4">
            <label for="descriptionBottom" class="form-label">Second (bottom) description (support markdown syntax):</label>
            <textarea class="form-control <%= errors?.descriptionBottom && "is-invalid" %>" id="descriptionBottom"
                name="dscBottom" minlength="10" maxlength="500" rows="7"><%= form.descriptionBottom %></textarea>
            <div class="invalid-feedback"><%= errors?.descriptionBottom?.message %></div>
        </div>
        <div class="col-md-6 mb-4">
            <label for="firstEmail" class="form-label">First email (left):</label>
            <input class="form-control <%= errors?.firstEmail && "is-invalid" %>" id="firstEmail"
                name="firstEmail" value="<%= form.firstEmail %>">
            <div class="invalid-feedback"><%= errors?.firstEmail?.message %></div>
        </div>
        <div class="col-md-6 mb-4">
            <label for="secondEmail" class="form-label">Second email (right):</label>
            <input class="form-control <%= errors?.secondEmail && "is-invalid" %>" id="secondEmail"
                name="secondEmail" value="<%= form.secondEmail %>">
            <div class="invalid-feedback"><%= errors?.secondEmail?.message %></div>
        </div>
        <div class="col-12 mb-4">
            <label for="githubAccountLink" class="form-label">Github account email:</label>
            <input class="form-control <%= errors?.githubAccountLink && "is-invalid" %>" id="githubAccountLink"
                name="ghLink" value="<%= form.githubAccountLink %>">
            <div class="invalid-feedback"><%= errors?.githubAccountLink?.message %></div>
        </div>
        <div class="col-md-6 mb-4">
            <label for="githubName" class="form-label">Github name:</label>
            <input class="form-control <%= errors?.githubName && "is-invalid" %>" id="githubName"
                name="ghName" value="<%= form.githubName %>">
            <div class="invalid-feedback"><%= errors?.githubName?.message %></div>
        </div>
        <div class="col-md-6 mb-4">
            <label for="githubToken" class="form-label">Github token:</label>
            <div class="input-group has-validation" data-pwd-container data-pwd-input-id="githubToken"
                data-pwd-toggle-id="token-icon">
                <input id="githubToken" type="password" class="form-control <%= errors?.githubToken && "is-invalid" %>"
                    name="ghToken" value="<%= form.githubToken %>">
                <span id="token-icon" class="input-group-text" role="button">
                    <i class="bi bi-eye-fill"></i>
                </span>
                <div class="invalid-feedback"><%= errors?.githubToken?.message %></div>
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-md-6 mb-2">
            <button class="btn btn-outline-dark w-100" type="button" data-bs-toggle="modal" data-bs-target="#declineChanges">
                Decline changes
            </button>
        </div>
        <div class="col-md-6 mb-2">
            <button class="btn btn-primary w-100" type="submit">Update personal details</button>
        </div>
    </div>
</form>

<%- contentFor('additional-scripts') %>
<script src="/assets/js/toggle-password.js"></script>
